(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0e63fe90"],{"063f":function(s,t,e){"use strict";e.r(t);var a=function(){var s=this,t=s.$createElement;s._self._c;return s._m(0)},r=[function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("section",[e("h2",[s._v("从应用架构角度理解Docker")]),e("br"),e("p",[s._v("来源："),e("a",{attrs:{href:"https://blog.fundebug.com/2017/03/27/nodejs-docker/"}},[s._v("转自fundebug")]),s._v(" 时间：2020年12月22日16:32:10")]),e("br"),e("hr"),e("blockquote",[e("p",[s._v("难度：简单")])]),e("br"),e("h3",[s._v("从应用架构角度理解Docker")]),e("br"),e("pre",{pre:!0},[e("code",{pre:!0,attrs:{"v-pre":"",class:"language-html"}},[s._v("刚开始，你只需要写一个Node.js程序，挂载一个静态网站；\n然后，你做了一个用户账号系统，这时需要数据库了，比如说MySQL; \n后来，为了提升性能，你引入了Memcached缓存；终于有一天，你决定把前后端分离，这样可以提高开发效率；\n当用户越来越多，你又不得不使用Nginx做反向代理; 对了，随着功能越来越多，你的应用依赖也会越来越多…总之，你的应用架构只会越来越复杂。不同的组件的安装，配置与运行步骤各不相同，于是你不得不写一个很长的文档给新同事，只为了让他搭建一个开发环境。\n使用Docker的话，你可以为不同的组件逐一编写Dockerfile，分别构建镜像，然后运行在各个容器中。这样做，将复杂的架构统一了\n所有组件的安装和运行步骤统一为几个简单的命令:\n")])]),e("pre",{pre:!0},[e("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[s._v("构建Docker镜像: docker build\n上传Docker镜像: docker push\n下载Docker镜像: docker pull\n运行Docker容器: docker run\n\n")])]),e("br"),e("h3",[s._v("从应用部署角度理解Docker")]),e("br"),e("pre",{pre:!0},[e("code",{pre:!0,attrs:{"v-pre":"",class:"language-html"}},[s._v("通常，你会有开发，测试和生产服务器，对于某些应用，还会需要进行构建。不同步骤的依赖会有一些不同，并且在不同的服务器上执行。\n如果手动地在不同的服务器上安装依赖，是件很麻烦的事情。比如说，当你需要为Node.js应用添加一个新的npm模块，或者升级一下Node.js，是不是得重复操作很多次？\n友情提示一下，手动敲命令是极易出错的，有些失误会导致致命的后果（参考最近Gitlab误删数据库与AWS的S3故障）。\n如果使用Docker的话，开发、构建、测试、生产将全部在Docker容器中执行，你需要为不同步骤编写不同的Dockerfile。\n当依赖变化时，仅需要稍微修改Dockerfile即可。结合构建工具Jenkins，就可以将整个部署流程自动化。另一方面，Dockerfile将Docker镜像描述得非常精准，能够保证很强的一致性。\n比如，操作系统的版本，Node.js的版本，NPM模块的版本等。\n这就意味着，在本地开发环境运行成功的镜像，在构建、测试、生产环境中也没有问题。\n还有，不同的Docker容器是依赖于不同的Docker镜像，这样他们互不干扰。比如，两个Node.js应用可以分别使用不同版本的Node.js。\n")])]),e("br"),e("h3",[s._v("从集群管理角度理解Docker")]),e("br"),e("pre",{pre:!0},[e("code",{pre:!0,attrs:{"v-pre":"",class:"language-html"}},[s._v("架构规模越来越大的时候，你有必要引入集群了。\n这就意味着，服务器由1台变成了多台，同一个应用需要运行多个备份来分担负载。当然，你可以手动对集群的功能进行划分: Nginx服务器，Node.js服务器，MySQL服务器，测试服务器，生产服务器…这样做的好处是简单粗暴；也可以说财大气粗，因为资源闲置会非常严重。还有一点，每次新增节点的时候，你就不得不花大量时间进行安装与配置，这其实是一种低效的重复劳动。\n下载Docker镜像之后，Docker容器可以运行在集群的任何一个节点。一方面，各个组件可以共享主机，且互不干扰；另一方面，也不需要在集群的节点上安装和配置任何组件。\n至于整个Docker集群的管理，业界有很多成熟的解决方案，例如Mesos，Kubernetes与Docker Swarm。这些集群系统提供了调度，服务发现，负载均衡等功能，让整个集群变成一个整体。\n")])]),e("h4",[s._v("你不喜欢docker只是你还没理解他的好，等你理解以后他就会成为你开发的一个利器")])])}],n=e("2877"),p={},l=Object(n["a"])(p,a,r,!1,null,null,null);t["default"]=l.exports},"2c44":function(s,t,e){},5905:function(s,t,e){"use strict";e.r(t);var a=function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",{staticClass:"log"},[e("ul",s._l(s.list,(function(t,a){return e("li",{key:a,on:{click:function(t){return s.renderUrl(a)}}},[s._v(" "+s._s(t.replace(/(\.md|\.\/)/g,""))+" ")])})),0)])},r=[],n=(e("d3b7"),e("ddb0"),{data:function(){return{list:[]}},created:function(){var s=e("ee83");this.list=s.keys()},components:{},methods:{renderUrl:function(s){this.$router.push({path:"/logRender/A"+s})}}}),p=n,l=(e("b81c"),e("2877")),c=Object(l["a"])(p,a,r,!1,null,"b982c988",null);t["default"]=c.exports},"64a9":function(s,t,e){"use strict";e.r(t);var a=function(){var s=this,t=s.$createElement;s._self._c;return s._m(0)},r=[function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("section",[e("h2",[s._v("unxt服务端渲染-seo")]),e("br"),s._v(" 来源：小白 时间：2021年1月7日14:38:32 "),e("br"),e("hr"),e("blockquote",[e("p",[s._v("采用node/unxt")])]),e("blockquote",[e("p",[s._v("难度：简单")])]),e("br"),e("h3",[s._v("unxt介绍")]),e("p",[s._v("Nuxt.js 是一个基于 Vue.js 的通用应用框架。")]),e("p",[s._v("通过对客户端/服务端基础架构的抽象组织，Nuxt.js 主要关注的是应用的 UI渲染。")]),e("p",[s._v("我们的目标是创建一个灵活的应用框架，你可以基于它初始化新项目的基础结构代码，或者在已有 Node.js 项目中使用 Nuxt.js。")]),e("p",[s._v("Nuxt.js 预设了利用 Vue.js 开发服务端渲染的应用所需要的各种配置。")]),e("p",[s._v("除此之外，我们还提供了一种命令叫：nuxt generate ，为基于 Vue.js 的应用提供生成对应的静态站点的功能。")]),e("p",[s._v("我们相信这个命令所提供的功能，是向开发集成各种微服务（Microservices）的 Web 应用迈开的新一步。")]),e("p",[s._v("作为框架，Nuxt.js 为 客户端/服务端 这种典型的应用架构模式提供了许多有用的特性，例如异步数据加载、中间件支持、布局支持等。")]),e("h3",[s._v("1安装")]),e("p",[s._v("为了快速入门，Nuxt.js团队创建了脚手架工具 create-nuxt-app。")]),e("p",[s._v("确保安装了npx（npx在NPM版本5.2.0默认安装了）：")]),e("pre",{pre:!0},[e("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[s._v("$ npx create-nuxt-app <项目名>\n")])]),e("p",[s._v("或者用yarn ：")]),e("pre",{pre:!0},[e("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[s._v("$ yarn create nuxt-app <项目名>\n")])]),e("p",[s._v("注意：这里我用两个命令报错了，为了偷懒索性我换npm安装了 npm命令为"),e("code",{pre:!0},[s._v("npm init nuxt-app@latest <my-project>")])]),e("h3",[s._v("2目录")]),e("br"),e("pre",{pre:!0},[e("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[s._v("|-- nuxt\n    |-- .nuxt\n    |-- assets "),e("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//资源目录 assets 用于组织未编译的静态资源如 LESS、SASS 或 JavaScript。")]),s._v("\n    |-- components "),e("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//组件目录 components 用于组织应用的 Vue.js 组件。Nuxt.js 不会扩展增强该目录下 Vue.js 组件，即这些组件不会像页面组件那样有 asyncData 方法的特性。")]),s._v("\n    |-- layouts "),e("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//布局目录 layouts 用于组织应用的布局组件。")]),s._v("\n    |-- middleware "),e("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//middleware 目录用于存放应用的中间件。")]),s._v("\n    |-- pages "),e("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//页面目录 pages 用于组织应用的路由及视图。Nuxt.js 框架读取该目录下所有的 .vue 文件并自动生成对应的路由配置。")]),s._v("\n    |-- plugins "),e("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//插件目录 plugins 用于组织那些需要在 根vue.js应用 实例化之前需要运行的 Javascript 插件。")]),s._v("\n    |-- "),e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("static")]),s._v("  "),e("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//静态文件目录 static 用于存放应用的静态文件，此类文件不会被 Nuxt.js 调用 Webpack 进行构建编译处理。 服务器启动的时候，该目录下的文件会映射至应用的根路径 / 下。")]),s._v("\n                "),e("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 举个例子: /static/robots.txt 映射至 /robots.txt")]),s._v("\n                "),e("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 若无额外配置，该目录不能被重命名。")]),s._v("\n    |-- store   "),e("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//store 目录用于组织应用的 Vuex 状态树 文件。 Nuxt.js 框架集成了 Vuex 状态树 的相关功能配置，在 store 目录下创建一个 index.js 文件可激活这些配置。")]),s._v("\n    |-- nuxt.config.js "),e("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//nuxt.config.js 文件用于组织Nuxt.js 应用的个性化配置，以便覆盖默认配置。")]),s._v("\n    |-- package.json "),e("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//package.json 文件用于描述应用的依赖关系和对外暴露的脚本接口。")]),s._v("\n")])]),e("h3",[s._v("3语法")]),e("p",[s._v("语法基本跟vue一致下方提供几个重要的API")]),e("br"),e("h4",[s._v("3.1 asyncData 方法")]),e("br"),e("blockquote",[e("p",[s._v("你可能想要在服务器端获取并渲染数据。Nuxt.js添加了asyncData方法使得你能够在渲染组件之前异步获取数据。")])]),e("p",[s._v("如：我需要请求个列表展示到页面上面去，但是我需要列表的数据也是html渲染上去的是可以被爬虫收录的。这个时候就可以为如下代码 "),e("br")]),e("pre",{pre:!0},[e("code",{pre:!0,attrs:{"v-pre":"",class:"language-html"}},[e("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),e("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("template")]),s._v(">")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),e("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("ul")]),s._v(">")]),s._v("\n        "),e("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),e("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("li")]),s._v(" "),e("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("v-for")]),s._v("="),e("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"(item, index) in list"')]),s._v(" "),e("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v(":key")]),s._v("="),e("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"index"')]),s._v(">")]),s._v("{{ item.good_name }}"),e("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),e("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("li")]),s._v(">")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),e("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("ul")]),s._v(">")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),e("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("template")]),s._v(">")]),s._v("\n")])]),e("pre",{pre:!0},[e("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("async")]),s._v(" asyncData() {\n    "),e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" list = [];\n    "),e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("await")]),s._v(" axios\n      .get("),e("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"http://127.0.0.1:8031/hosnode/mall_goods_info/queryList"')]),s._v(")\n      .then("),e("span",{pre:!0,attrs:{class:"hljs-function"}},[s._v("("),e("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("s")]),s._v(") =>")]),s._v(" {\n        list = s.data.data.data;\n    });\n    "),e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" {\n      "),e("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("project")]),s._v(": "),e("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"nuxt"')]),s._v(",\n      list,\n    };\n},\n")])]),e("br"),e("p",[s._v("这个时候代码中就会被渲染 如下是源代码 "),e("br")]),e("p",[e("img",{attrs:{src:"http://www.zzf9.com/admin/images/2021-01-07-fewf.jpg",alt:"charles 1"}}),e("br")]),e("p",[s._v("看这里接口返回的数据就被渲染成html了 "),e("br")]),e("h3",[s._v("打包")]),e("br"),e("p",[s._v("nuxt提供了两种打包方式"),e("code",{pre:!0},[s._v("generate")]),s._v("跟"),e("code",{pre:!0},[s._v("build")])]),e("p",[s._v('"generate"和"build"打包方式主要有两个区别，文件的区别，和发布的区别 '),e("br")]),e("h4",[s._v("generate打包方式")]),e("br"),e("p",[s._v("1-1:使用generate打包后每个对应的页面都会生成一个html，你在打包的时候不能关闭后台，他会请求后台数据生成首屏的数据 1-2:这样打包有一个弊端，当你首屏的数据发生更改的时候，对不起，他还是显示的是之前的数据，要想改变的话，需要重新打包发布才行。 1-3:所以，如果你的首屏是动态的就不建议使用这种打包方式了。 1-4:有人看到每个页面都生成了HTML页面，以为不再请求后台（我最开始就是这样认为的），实际上不是的，他的首屏数据之前渲染好了，但是其它数据还是从后台获取，比如翻页，第二页数据是从新请求后台的，你再次返回第一页也是再次请求的。 "),e("br")]),e("h4",[s._v("build打包方式")]),e("br"),e("pre",{pre:!0},[e("code",{pre:!0,attrs:{"v-pre":""}},[s._v("build打包生成的是动态页面，当然是同样具有SEO功能。\n")])]),e("br"),e("h4",[s._v("明显区别")]),e("br"),e("pre",{pre:!0},[e("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[s._v("\ngenerate\n  使用generate打包和之前使用vue打包一样，生成一个dist文件夹，然后各种发布操作和vue一样的\n\nbuild\n  "),e("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v("、build打包就比较复杂了，他会生成一个.nuxt文件夹，然后你如果要发布的话，嘿嘿…\n\n")])])])}],n=e("2877"),p={},l=Object(n["a"])(p,a,r,!1,null,null,null);t["default"]=l.exports},"9d00":function(s,t,e){"use strict";e.r(t);var a=function(){var s=this,t=s.$createElement;s._self._c;return s._m(0)},r=[function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("section",[e("h2",[s._v("自动化工具-jenkins")]),e("br"),e("p",[s._v("环境：java liunx")]),e("p",[s._v("来源：小白 时间：2020年12月23日09:52:42")]),e("br"),e("hr"),e("blockquote",[e("p",[s._v("难度：简单")])]),e("blockquote",[e("p",[s._v("友情说明：jenkins只是java开发的，如果你熟悉java的raw包更好，但是你不熟悉也不妨碍你使用。")])]),e("br"),e("h3",[s._v("1.首先确保java和maven正常工作。")]),e("br"),e("pre",{pre:!0},[e("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[s._v("Java配置：使用 java -version 查看是否安装java\nmaven安装：使用 mvn -v 查看是否安装有maven\n")])]),e("br"),e("h3",[s._v("2.yum安装Jenkins")]),e("br"),e("p",[s._v("这里推荐使用yum方式安装Jenkins，最简单方便。")]),e("p",[s._v("yum的repos中默认是没有Jenkins的，需要先将Jenkins存储库添加到yum repos。")]),e("pre",{pre:!0},[e("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[s._v("wget -O /etc/yum.repos.d/jenkins.repo https:"),e("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//pkg.jenkins.io/redhat-stable/jenkins.repo")]),s._v("\nrpm --"),e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" https:"),e("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//pkg.jenkins.io/redhat-stable/jenkins.io.key")]),s._v("\n")])]),e("br"),e("pre",{pre:!0},[e("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[s._v("yum install jenkins\n")])]),e("p",[s._v("随后就可以看到系统开始自动下载安装。 出现提示是否下载的时候输入y并按回车。 耐心等待安装完成。")]),e("p",[e("img",{attrs:{src:"http://www.zzf9.com/admin/images/1608689165.jpg",alt:"charles 1"}})]),e("br"),e("h3",[s._v("3.启动")]),e("br"),e("p",[s._v("修改完配置后，保存退出。 好了，现在配置文件也修改好了，可以启动Jenkins了。 输入启动命令以启动Jenkins服务。")]),e("pre",{pre:!0},[e("code",{pre:!0,attrs:{"v-pre":"",class:"language-Javascript"}},[s._v("service jenkins start\n")])]),e("p",[e("img",{attrs:{src:"http://www.zzf9.com/admin/images/fwefb.jpg",alt:"charles 1"}}),s._v(" 出现OK表示Jenkins启动成功。 在浏览器输入ip:8081进入Jenkins登录页面。")]),e("br"),e("h3",[s._v("4.环境")]),e("br"),e("p",[s._v("进入后显示页面")]),e("p",[e("img",{attrs:{src:"http://www.zzf9.com/admin/images/b454.jpg",alt:"charles 1"}})]),e("p",[s._v("进入登录页面后，Jenkins提示我们需要输入超级管理员密码进行解锁，根据提示，我们可以在"),e("code",{pre:!0},[s._v("/var/lib/jenkins/secrets/initialAdminPassword")]),s._v("文件里找到密码。")]),e("p",[s._v("输入命令以找到密码。")]),e("pre",{pre:!0},[e("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[s._v("tail /"),e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v("/lib/jenkins/secrets/initialAdminPassword\n")])]),e("p",[s._v("找到密码后，复制密码，粘贴到Jenkins解锁页面，点击Continue继续初始化配置。短暂的等待后，进入插件安装页面")]),e("p",[e("img",{attrs:{src:"http://www.zzf9.com/admin/images/fwe45.jpg",alt:"charles 1"}})]),e("p",[s._v("这里我们点击的"),e("code",{pre:!0},[s._v("Install suggested plugins")]),s._v("，安装默认插件，当然你也可以点击另一个按钮安装指定的插件 插件是可以后面补充的")]),e("p",[s._v("点击后，页面进入了插件下载安装页面")]),e("pre",{pre:!0},[e("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[s._v("安装插件，有时候会报类似的错误：An error occurred during installation: No such plugin: cloudbees-folder\n \n上面的错误显示是，安装插件cloudbees-folder失败，是因为下载的Jenkins.war里没有cloudbees-folder插件，\n \n                      需要在网上下载：http:"),e("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//ftp.icm.edu.pl/packages/jenkins/plugins/cloudbees-folder/")]),s._v("\n \n下载cloudbees-folder.hpi放在 /"),e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v("/lib/jenkins/plugins  即可\n")])]),e("p",[e("img",{attrs:{src:"http://www.zzf9.com/admin/images/vretreter789.jpg",alt:"charles 1"}})]),e("p",[s._v("耐心等待全部安装完成。安装完成后，页面自动进入了管理员账户注册页面")]),e("p",[e("img",{attrs:{src:"http://www.zzf9.com/admin/images/fewg43a.jpg",alt:"charles 1"}})]),e("p",[s._v("输入完信息点击"),e("code",{pre:!0},[s._v("Save and Finish")]),s._v("。")]),e("p",[s._v("出现下一步骤继续"),e("code",{pre:!0},[s._v("start using jenkins")])]),e("p",[e("img",{attrs:{src:"http://www.zzf9.com/admin/images/bdrte4.jpg",alt:"charles 1"}})]),e("p",[s._v("至此，Jenkins安装并初始化完成了")]),e("br"),e("h3",[s._v("5.配置")]),e("br"),e("p",[s._v("默认情况是Jenkins是使用Jenkins用户启动的，但这个用户目前系统并没有赋予权限，这里我们将启动用户修改为root； 另外Jenkins默认端口是8080，这个跟tomcat的默认端口冲突，我们也修改一下默认端口。 输入命令进入Jenkins配置文件")]),e("p",[e("code",{pre:!0},[s._v("vi")]),s._v("编写文件"),e("code",{pre:!0},[s._v("/etc/sysconfig/jenkins")]),s._v("jenkis配置地址可自行修改 "),e("code",{pre:!0},[s._v("vi")]),s._v("进入以后按键"),e("code",{pre:!0},[s._v("a")]),s._v("进入编写模式")]),e("pre",{pre:!0},[e("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[s._v("vi /etc/sysconfig/jenkins\n")])]),e("p",[s._v('在配置文件中往上滑 找到JENKINS_USER="jenkins" '),e("code",{pre:!0},[s._v("jenkins")]),s._v('可能是其他内容 里面找到JENKINS_PORT="8030" 再次修改端口')]),e("p",[e("img",{attrs:{src:"http://www.zzf9.com/admin/images/v4444444444.jpg",alt:"charles 1"}})]),e("p",[s._v("此处修改配置")]),e("pre",{pre:!0},[e("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[s._v("JENKINS_USER="),e("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"root"')]),s._v("\nJENKINS_PORT="),e("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"8081"')]),s._v("\n")])]),e("p",[e("img",{attrs:{src:"http://www.zzf9.com/admin/images/v804.jpg",alt:"charles 1"}})]),e("p",[s._v("修改完配置后，保存退出。")]),e("pre",{pre:!0},[e("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[s._v("按完esc后输入冒号（英文的），然后就转换到了末行模式了，末行模式决定是否保存文件。\n")])]),e("p",[s._v("末行模式下可以按x来保存，"),e("code",{pre:!0},[s._v("x")]),s._v("命令可以保存编辑好的文件。")]),e("p",[s._v("也可以用到wq来保存，如果是"),e("code",{pre:!0},[s._v("q!")]),s._v("则不保存的。")]),e("p",[s._v("好了，现在配置文件也修改好了，可以重新启动Jenkins了。")]),e("pre",{pre:!0},[e("code",{pre:!0,attrs:{"v-pre":"",class:"language-Javascript"}},[s._v("启动 service jenkins start\n\n重启 service jenkins restart\n\n停止 service jenkins stop\n")])])])}],n=e("2877"),p={},l=Object(n["a"])(p,a,r,!1,null,null,null);t["default"]=l.exports},a993:function(s,t,e){"use strict";e.r(t);var a=function(){var s=this,t=s.$createElement;s._self._c;return s._m(0)},r=[function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("section",[e("h2",[s._v("PC微信扫码登录教程")]),e("br"),s._v(" 来源：小白 时间：2020年12月22日15:33:21 "),e("br"),e("hr"),e("blockquote",[e("p",[s._v("需要微信开放平台账号")])]),e("blockquote",[e("p",[s._v("难度：一般")])]),e("br"),e("h3",[s._v("1.创建网站应用 获取AppID和AppSecret")]),e("br"),e("h4",[s._v("1.1基本信息")]),e("br"),e("p",[s._v("选择创建网站应用，没什么可说的")]),e("p",[e("img",{attrs:{src:"http://www.zzf9.com/admin/images/log-12-23-1.jpg",alt:"charles 1"}})]),e("p",[s._v("根据以下步骤配置内容")]),e("pre",{pre:!0},[e("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[s._v("注意图片尺寸跟网站应用尺寸\n\n这里的图片为一个大logo 一个小logo\n")])]),e("p",[e("img",{attrs:{src:"http://www.zzf9.com/admin/images/log-20-12-23-2.jpg",alt:"charles 1"}})]),e("p",[s._v("确认进行下一步")]),e("br"),e("h4",[s._v("1.2网站信息 -回调域名")]),e("br"),e("p",[s._v("这里是让你配置一个回调域名就好了，就是说扫码以后他需要跳回到那个域名 就通俗的为回调域名")]),e("p",[e("img",{attrs:{src:"http://www.zzf9.com/admin/images/log-20-12-23-35v.jpg",alt:"charles 1"}})]),e("p",[s._v("提交审核后为成功")]),e("br"),e("h4",[s._v("1.3提交成功")]),e("br"),e("p",[e("img",{attrs:{src:"http://www.zzf9.com/admin/images/b9d46bb029202683fc4883ac93f6d20.png",alt:"charles 1"}})]),e("br"),e("h4",[s._v("1.4.查看审核信息")]),e("br"),e("p",[e("img",{attrs:{src:"http://www.zzf9.com/admin/images/log-20-12-23-v15.jpg",alt:"charles 1"}})]),e("p",[s._v("点击查看后 可以查看审核详情页面")]),e("p",[e("img",{attrs:{src:"http://www.zzf9.com/admin/images/log-20-12-23-gwre.jpg",alt:"charles 1"}})]),e("p",[s._v("等待审核通过后拿到appid")]),e("p",[e("img",{attrs:{src:"http://www.zzf9.com/admin/images/log-20-12-24-vfg3.jpg",alt:"charles 1"}})]),e("p",[s._v("如上图 appid是自动送的 但是AppSecret 需要手动生成操作")]),e("p",[s._v("生成也很简单 管理员扫码 然后查看AppSecret（请自主保存 以免丢失）")]),e("br"),e("h3",[s._v("2生成二维码")]),e("br"),e("h4",[s._v("2.1 跳转页面扫码方式")]),e("br"),e("p",[s._v("效果")]),e("p",[e("img",{attrs:{src:"http://www.zzf9.com/admin/images/log-20-12-24-vte.jpg",alt:"charles 1"}})]),e("pre",{pre:!0},[e("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[s._v("\n"),e("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("/** \n    @description:通过code获取access_token的接口\n    @param appid {string} 应用唯一标识，在微信开放平台提交应用审核通过后获得\n    @param redirect_uri {string} 页面跳转回调地址\n    @param response_type {string} 写死为code\n    @param scope {string} 应用授权作用域，拥有多个作用域用逗号（,）分隔，网页应用目前仅填写snsapi_login\n    @return:\n*/")]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 页面跳转方式")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("window")]),s._v(".open(openWeiXin({ "),e("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("appid")]),s._v(": "),e("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('""')]),s._v(", "),e("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("redirect_uri")]),s._v(": "),e("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'xxx'")]),s._v("))\n\n "),e("span",{pre:!0,attrs:{class:"hljs-function"}},[e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),e("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("openWeiXin")]),s._v("("),e("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("{ appid, redirect_uri, response_type = "),e("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"code"')]),s._v(", scope = "),e("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'snsapi_login'")]),s._v(", style = "),e("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("''")]),s._v(", href = "),e("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("''")]),s._v(" }")]),s._v(") ")]),s._v("{\n     "),e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),e("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("`https://open.weixin.qq.com/connect/qrconnect?appid="),e("span",{pre:!0,attrs:{class:"hljs-subst"}},[s._v("${appid}")]),s._v("&redirect_uri="),e("span",{pre:!0,attrs:{class:"hljs-subst"}},[s._v("${redirect_uri}")]),s._v("&response_type="),e("span",{pre:!0,attrs:{class:"hljs-subst"}},[s._v("${response_type}")]),s._v("&style="),e("span",{pre:!0,attrs:{class:"hljs-subst"}},[s._v("${style}")]),s._v("&href="),e("span",{pre:!0,attrs:{class:"hljs-subst"}},[s._v("${href}")]),s._v("&scope="),e("span",{pre:!0,attrs:{class:"hljs-subst"}},[s._v("${scope}")]),s._v("#wechat_redirect`")]),s._v("\n }\n\n")])]),e("br"),e("p",[s._v("扫码登录即可 这个时候他会给你回调域名里面添加code 请继续通过code操作即可")]),e("br"),e("h4",[s._v("2.2 内置自己代码中")]),e("br"),e("p",[s._v("效果")]),e("p",[e("img",{attrs:{src:"http://www.zzf9.com/admin/images/log-20-12-24-45674.jpg",alt:"charles 1"}})]),e("p",[s._v("第一步先引入cdn")]),e("pre",{pre:!0},[e("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[s._v("\x3c!-- 支持https --\x3e\n"),e("span",{pre:!0,attrs:{class:"xml"}},[e("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),e("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(" "),e("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("src")]),s._v("="),e("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"http://res.wx.qq.com/connect/zh_CN/htmledition/js/wxLogin.js"')]),s._v(">")]),e("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),e("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")])]),s._v("\n\n")])]),e("p",[s._v("第二步在使用的地方写方法")]),e("pre",{pre:!0},[e("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[s._v("\n\n"),e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" obj = "),e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" WxLogin({\n "),e("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("self_redirect")]),s._v(": "),e("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("true")]),s._v(",\n "),e("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("id")]),s._v(": "),e("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"login_container"')]),s._v(", "),e("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//容器id  他会自动在容器中添加img")]),s._v("\n "),e("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("appid")]),s._v(": "),e("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"appid"')]),s._v(",\n "),e("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("scope")]),s._v(": "),e("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"snsapi_login"')]),s._v(",\n "),e("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("redirect_uri")]),s._v(": "),e("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"redirect_uri"')]),s._v(",\n "),e("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("state")]),s._v(": "),e("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('""')]),s._v(",\n "),e("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("style")]),s._v(": "),e("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"black"')]),s._v(",\n "),e("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("href")]),s._v(": "),e("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('""')]),s._v("\n);\n\n")])]),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[s._v("参数")]),e("th",{staticStyle:{"text-align":"left"}},[s._v("是否必须")]),e("th",{staticStyle:{"text-align":"left"}},[s._v("说明")])])]),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[s._v("self_redirect")]),e("td",{staticStyle:{"text-align":"left"}},[s._v("否")]),e("td",{staticStyle:{"text-align":"left"}},[s._v("true：手机点击确认登录后可以在 iframe 内跳转到 redirect_uri，false：手机点击确认登录后可以在 top window 跳转到 redirect_uri。默认为 false。")])]),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[s._v("id")]),e("td",{staticStyle:{"text-align":"left"}},[s._v("是")]),e("td",{staticStyle:{"text-align":"left"}},[s._v("第三方页面显示二维码的容器id")])]),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[s._v("appid")]),e("td",{staticStyle:{"text-align":"left"}},[s._v("是")]),e("td",{staticStyle:{"text-align":"left"}},[s._v("应用唯一标识，在微信开放平台提交应用审核通过后获得")])]),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[s._v("scope")]),e("td",{staticStyle:{"text-align":"left"}},[s._v("是")]),e("td",{staticStyle:{"text-align":"left"}},[s._v("应用授权作用域，拥有多个作用域用逗号（,）分隔，网页应用目前仅填写snsapi_login即可")])]),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[s._v("redirect_uri")]),e("td",{staticStyle:{"text-align":"left"}},[s._v("是")]),e("td",{staticStyle:{"text-align":"left"}},[s._v("重定向地址，需要进行UrlEncode")])]),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[s._v("state")]),e("td",{staticStyle:{"text-align":"left"}},[s._v("否")]),e("td",{staticStyle:{"text-align":"left"}},[s._v("用于保持请求和回调的状态，授权请求后原样带回给第三方。该参数可用于防止csrf攻击（跨站请求伪造攻击），建议第三方带上该参数，可设置为简单的随机数加session进行校验")])]),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[s._v("style")]),e("td",{staticStyle:{"text-align":"left"}},[s._v("否")]),e("td",{staticStyle:{"text-align":"left"}},[s._v('提供"black"、"white"可选，默认为黑色文字描述。详见文档底部FAQ')])]),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[s._v("href")]),e("td",{staticStyle:{"text-align":"left"}},[s._v("否")]),e("td",{staticStyle:{"text-align":"left"}},[s._v("自定义样式链接，第三方可根据实际需求覆盖默认样式。详见文档底部FAQ")])])])]),e("br"),e("p",[s._v("扫码登录即可 这个时候他会给你回调域名里面添加code 请继续通过code操作即可")]),e("br"),e("h3",[s._v("3扫码成功获取code")]),e("br"),e("p",[s._v("扫码成功的跳转URL为："),e("code",{pre:!0},[s._v("https://plug.zzf9.com?code=091K7T000lL9TK1vTS000nSWDn2K7T0Q&state=")]),s._v(" 其中code为微信扫码返回的code 注意前端获取 有大用")]),e("h3",[s._v("根据code获取access_token跟openid")]),e("p",[s._v("注意access_token注意存储 并且access_token会两小时过期一次 具体逻辑为，前端拿到code掉接口发送给后端 后端去请求接口获取用户access_token跟openid继续操作 所以前端只用把code给后端")]),e("h4",[s._v("3.1通过code掉用接口")]),e("p",[s._v("前端代码")]),e("pre",{pre:!0},[e("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[e("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 省略...")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 拿到code去掉接口给 后端")]),s._v("\n")])]),e("p",[s._v("node代码")]),e("hr"),e("blockquote",[e("p",[s._v("环境：node，request包")])]),e("blockquote",[e("p",[s._v("难度：简单")])]),e("br"),e("pre",{pre:!0},[e("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[s._v("\n"),e("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 使用")]),s._v("\n\ngetAccessToken({"),e("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("appid")]),s._v(":"),e("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"xxxxx"')]),s._v(","),e("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("secret")]),s._v(":"),e("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"appsecret"')]),s._v("})\n\n"),e("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("/** \n    @description:通过code获取access_token的接口\n    @param appid {string} 应用唯一标识，在微信开放平台提交应用审核通过后获得\n    @param secret {string} 应用密钥AppSecret，在微信开放平台提交应用审核通过后获得\n    @param code {string} 填写第一步获取的code参数\n    @return:\n*/")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"hljs-function"}},[e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),e("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("getUauth2Token")]),s._v("("),e("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("{ appid, secret,code }")]),s._v(") ")]),s._v("{\n\trequest({\n\t\t"),e("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("url")]),s._v(": "),e("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("`https://api.weixin.qq.com/sns/oauth2/access_token?appid="),e("span",{pre:!0,attrs:{class:"hljs-subst"}},[s._v("${appid}")]),s._v("&secret="),e("span",{pre:!0,attrs:{class:"hljs-subst"}},[s._v("${secret}")]),s._v("&code="),e("span",{pre:!0,attrs:{class:"hljs-subst"}},[s._v("${code}")]),s._v("&grant_type=authorization_code`")]),s._v(",\n\t\t"),e("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("method")]),s._v(": "),e("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'get'")]),s._v(",\n\t},(err,res) =>{\n\t\t"),e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v("(err){\n\t\t\t"),e("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(err) "),e("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//异常接口")]),s._v("\n\t\t\t"),e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v("\n\t\t}"),e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("else")]),s._v("{\n\t\t\t"),e("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log("),e("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("JSON")]),s._v(".parse(resv.body)) "),e("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//用户数据")]),s._v("\n\t\t}\n\t})\n}\n\n\n")])]),e("p",[s._v("正确返回应该为")]),e("pre",{pre:!0},[e("code",{pre:!0,attrs:{"v-pre":"",class:"language-json"}},[s._v("{\n    "),e("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v('"access_token"')]),s._v(":"),e("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"ACCESS_TOKEN"')]),s._v(", "),e("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//接口调用凭证")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v('"expires_in"')]),s._v(":"),e("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("7200")]),s._v(", "),e("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//access_token接口调用凭证超时时间，单位（秒）")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v('"refresh_token"')]),s._v(":"),e("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"REFRESH_TOKEN"')]),s._v(", "),e("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//用户刷新access_token")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v('"openid"')]),s._v(":"),e("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"OPENID"')]),s._v(", "),e("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//授权用户唯一标识")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v('"scope"')]),s._v(":"),e("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"SCOPE"')]),s._v(" "),e("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//用户授权的作用域，使用逗号（,）分隔")]),s._v("\n}\n")])]),e("br"),e("h4",[s._v("4获取个人信息 利用openid")]),e("p",[s._v("前端把openid发给后端 后端请求用户数据给前端 或者后端自己拿openid请求wx的接口去拿用户信息")]),e("p",[s._v("前端代码")]),e("pre",{pre:!0},[e("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[e("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 省略...")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 拿到code去掉接口给 后端")]),s._v("\n")])]),e("p",[s._v("node代码")]),e("hr"),e("blockquote",[e("p",[s._v("环境：node，request包")])]),e("blockquote",[e("p",[s._v("难度：简单")])]),e("br"),e("pre",{pre:!0},[e("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[s._v("\n"),e("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// 使用")]),s._v("\n\ngetAccessToken({"),e("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("appid")]),s._v(":"),e("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"xxxxx"')]),s._v(","),e("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("secret")]),s._v(":"),e("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"appsecret"')]),s._v("})\n\n"),e("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("/** \n    @description:获取用户个人信息（UnionID机制）\n    @param access_token {string} 调用凭证\n    @param openid {string} 普通用户的标识，对当前开发者帐号唯一\n    @param lang {string} 国家地区语言版本，zh_CN 简体，zh_TW 繁体，en 英语，默认为zh-CN\n    @return:\n*/")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"hljs-function"}},[e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),e("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("getSnsUserinfo")]),s._v("("),e("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("{ access_token, openid,lang }")]),s._v(") ")]),s._v("{\n\trequest({\n\t\t"),e("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("url")]),s._v(": "),e("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("`https://api.weixin.qq.com/sns/userinfo?access_token="),e("span",{pre:!0,attrs:{class:"hljs-subst"}},[s._v("${access_token}")]),s._v("&openid="),e("span",{pre:!0,attrs:{class:"hljs-subst"}},[s._v("${openid}")]),s._v("&lang="),e("span",{pre:!0,attrs:{class:"hljs-subst"}},[s._v("${lang || "),e("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'zh-CN'")]),s._v("}")]),s._v("`")]),s._v(",\n\t\t"),e("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("method")]),s._v(": "),e("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'get'")]),s._v(",\n\t},(err,res) =>{\n\t\t"),e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v("(err){\n\t\t\t"),e("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(err) "),e("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//异常接口")]),s._v("\n\t\t\t"),e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v("\n\t\t}"),e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("else")]),s._v("{\n\t\t\t"),e("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log("),e("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("JSON")]),s._v(".parse(resv.body)) "),e("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//用户数据")]),s._v("\n\t\t}\n\t})\n}\n\n\n")])]),e("p",[s._v("正确返回应该为")]),e("pre",{pre:!0},[e("code",{pre:!0,attrs:{"v-pre":"",class:"language-json"}},[s._v("{\n    "),e("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v('"openid"')]),s._v(":"),e("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"OPENID"')]),s._v(",\n    "),e("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v('"nickname"')]),s._v(":"),e("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"NICKNAME"')]),s._v(",\n    "),e("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v('"sex"')]),s._v(":"),e("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(",\n    "),e("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v('"province"')]),s._v(":"),e("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"PROVINCE"')]),s._v(",\n    "),e("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v('"city"')]),s._v(":"),e("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"CITY"')]),s._v(",\n    "),e("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v('"country"')]),s._v(":"),e("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"COUNTRY"')]),s._v(",\n    "),e("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v('"headimgurl"')]),s._v(": "),e("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"https://thirdwx.qlogo.cn/mmopen/g3MonUZtNHkdmzicIlibx6iaFqAc56vxLSUfpb6n5WKSYVY0ChQKkiaJSgQ1dZuTOgvLLrhJbERQQ4eMsv84eavHiaiceqxibJxCfHe/0"')]),s._v(",\n    "),e("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v('"privilege"')]),s._v(":[\n        "),e("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"PRIVILEGE1"')]),s._v(",\n        "),e("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"PRIVILEGE2"')]),s._v("\n    ],\n    "),e("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v('"unionid"')]),s._v(": "),e("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('" o6_bmasdasdsad6_2sgVt7hMZOPfL"')]),s._v("\n}\n")])]),e("h3",[s._v("友情链接")]),e("br"),e("p",[e("a",{attrs:{href:"https://open.weixin.qq.com/"}},[s._v("微信开放平台")]),e("br")]),e("p",[e("a",{attrs:{href:"https://developers.weixin.qq.com/doc/oplatform/Website_App/WeChat_Login/Wechat_Login.html"}},[s._v("文档地址")])])])}],n=e("2877"),p={},l=Object(n["a"])(p,a,r,!1,null,null,null);t["default"]=l.exports},b041:function(s,t,e){"use strict";var a=e("00ee"),r=e("f5df");s.exports=a?{}.toString:function(){return"[object "+r(this)+"]"}},b81c:function(s,t,e){"use strict";var a=e("2c44"),r=e.n(a);r.a},c259:function(s,t,e){"use strict";e.r(t);var a=function(){var s=this,t=s.$createElement;s._self._c;return s._m(0)},r=[function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("section",[e("h2",[s._v("node之https配置")]),e("br"),s._v(" 来源：小白 时间：2020年12月22日15:33:21 "),e("br"),e("hr"),e("blockquote",[e("p",[s._v("采用nginx+阿里云ssl证书")])]),e("blockquote",[e("p",[s._v("ssl+nginx方法")])]),e("blockquote",[e("p",[s._v("难度：简单")])]),e("br"),e("h3",[s._v("前言")]),e("p",[s._v("你需要有已经安装的nginx 并且有相应的基础 如果没有请移步 我的文章安装 nginx+https笔记")]),e("p",[s._v("本文是阿里云操作，如果不是阿里云的，请直接移步下面的配置 快捷移步")]),e("p",[e("a",{attrs:{href:"https://help.aliyun.com/knowledge_detail/95491.html",target:"_blank",rel:"noopener"}},[s._v("官方nginx配置地址")])]),e("p",{staticStyle:{"font-size":"20px","border-bottom":"1px solid #ddd","padding-bottom":"5px"}},[s._v("进入控制台SSL")]),e("p",[s._v("登录进去申请证书 点击购买证书 =》选择免费形Dv SSL 因为他是0元")]),e("p",[e("img",{attrs:{src:"https://zzf9.com/static/csawqd.png/fewfew.png",alt:"charles 1"}})]),e("p",[s._v("点击购买 选择最后一个费形Dv")]),e("p",[e("img",{attrs:{src:"https://zzf9.com/static/csawqd.png/fewfwe.png",alt:"charles 1"}})]),e("p",[s._v("立即购买 根据指定操作购买 没有难度 本文省略 直到下一图")]),e("p",[e("img",{attrs:{src:"https://zzf9.com/static/csawqd.png/bsadfw.png",alt:"charles 1"}})]),e("p",[s._v("选择证书申请 然后填写指定资料 不懂的配置跟我一样就好了 不用改")]),e("p",[e("img",{attrs:{src:"https://zzf9.com/static/csawqd.png/csawqd.png",alt:"charles 1"}})]),e("p",[s._v("点击解析 如果是阿里云的直接会自动解析 如果不是就手动解析域名就好了 审核成功会出现如下图")]),e("p",[e("img",{attrs:{src:"https://zzf9.com/static/csawqd.png/1570852716.png",alt:"charles 1"}})]),e("p",[s._v("然后就是等审核了")]),e("p",[e("img",{attrs:{src:"https://zzf9.com/static/csawqd.png/H%25ZP@%25SOZ5Y%7DJR%60DRRT%60R9G.png",alt:"charles 1"}})]),e("p",[s._v("审核成功以后自主选择下载")]),e("p",[e("img",{attrs:{src:"https://zzf9.com/static/csawqd.png/rewrw.png",alt:"charles 1"}})]),e("p",{staticStyle:{"font-size":"20px","border-bottom":"1px solid #ddd","padding-bottom":"5px"}},[s._v("在证书控制台下载Nginx版本证书。")]),e("blockquote",[e("p",[s._v("在证书控制台下载Nginx版本证书。下载到本地的压缩文件包解压后包含："),e("br"),s._v(" 1..crt文件：是证书文件，crt是pem文件的扩展名。 "),e("br"),s._v(" 2.key文件：证书的私钥文件（申请证书时如果没有选择自动创建CSR，则没有该文件）。")])]),e("p",[s._v("友情提示： .pem扩展名的证书文件采用Base64-encoded的PEM格式文本文件，可根据需要修改扩展名。")]),e("p",[s._v("以Nginx标准配置为例，假如证书文件名是a.pem，私钥文件是a.key。")]),e("h6",[s._v("在Nginx的安装目录下创建cert目录，并且将下载的全部文件拷贝到cert目录中。如果申请证书时是自己创建的CSR文件，请将对应的私钥文件放到cert目录下并且命名为a.key；")]),e("p",[s._v("打开 Nginx 安装目录下 conf 目录中的 nginx.conf 文件，找到：")]),e("pre",{pre:!0},[e("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[s._v("    \n    # HTTPS server\n    # #server {\n    # listen "),e("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("443")]),s._v(";\n    # server_name localhost;\n    # ssl on;\n    # ssl_certificate cert.pem;\n    # ssl_certificate_key cert.key;\n    # ssl_session_timeout "),e("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("5")]),s._v("m;\n    # ssl_protocols SSLv2 SSLv3 TLSv1;\n    # ssl_ciphers ALL:!ADH:!EXPORT56:RC4+RSA:+HIGH:+MEDIUM:+LOW:+SSLv2:+EXP;\n    # ssl_prefer_server_ciphers on;\n    # location / {\n    #\n    #\n    #}\n#}\n")])]),e("p",[s._v("修改为成如下图")]),e("pre",{pre:!0},[e("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[s._v("       server {\n        listen "),e("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("443")]),s._v(";\n        server_name localhost;\n        ssl on;\n        root html;\n        index index.html index.htm;\n        ssl_certificate   cert/a.pem;  "),e("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//改成你的目录")]),s._v("\n        ssl_certificate_key  cert/a.key; "),e("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//一样改成你的目录 其他可以暂时不用挨")]),s._v("\n        ssl_session_timeout "),e("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("5")]),s._v("m;\n        ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:ECDHE:ECDH:AES:HIGH:!NULL:!aNULL:!MD5:!ADH:!RC4;\n        ssl_protocols TLSv1 TLSv1"),e("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v(".1")]),s._v(" TLSv1"),e("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v(".2")]),s._v(";\n        ssl_prefer_server_ciphers on;\n        location / {\n            root html;\n            index index.html index.htm;\n        }\n    }\n")])]),e("p",[s._v("保存退出。")]),e("p",[s._v("重启 Nginx。")]),e("pre",{pre:!0},[e("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[s._v(" nginx -s reload\n\n")])]),e("h5",[s._v("总结：其实还是蛮简单的哈,如果重启报错找不到ssl 重装nginx，建议不要去用百度的找到源文件然后重新解压，本人这里当时卡了一天，重装了下才好了，总体原因是不报错不提醒，不运行！重装就OK")]),e("p",[s._v("本人全部配置源代码配置为")]),e("pre",{pre:!0},[e("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[s._v("   # For more information on configuration, "),e("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("see")]),s._v(":\n       #   * Official English Documentation: http:"),e("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//nginx.org/en/docs/")]),s._v("\n       #   * Official Russian Documentation: http:"),e("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//nginx.org/ru/docs/")]),s._v("\n\n       user nginx;\n       worker_processes auto;\n       error_log /"),e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v("/log/nginx/error.log;\n       pid /run/nginx.pid;\n\n       # Load dynamic modules. See /usr/share/nginx/README.dynamic.\n       include /usr/share/nginx/modules"),e("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v('/*.conf;\n\n       events {\n           worker_connections 1024;\n       }\n\n       http {\n           log_format  main  \'$remote_addr - $remote_user [$time_local] "$request" \'\n                           \'$status $body_bytes_sent "$http_referer" \'\n                           \'"$http_user_agent" "$http_x_forwarded_for"\';\n\n           access_log  /var/log/nginx/access.log  main;\n\n           sendfile            on;\n           tcp_nopush          on;\n           tcp_nodelay         on;\n           keepalive_timeout   65;\n           types_hash_max_size 2048;\n\n           include             /etc/nginx/mime.types;\n           default_type        application/octet-stream;\n\n           # Load modular configuration files from the /etc/nginx/conf.d directory.\n           # See http://nginx.org/en/docs/ngx_core_module.html#include\n           # for more information.\n           # include /etc/nginx/conf.d/*.conf;\n       server {\n               listen       80;\n               server_name  abc.zzf9.com;\n               location / {\n                   root   html;\n                   proxy_pass http://abc.zzf9.com;\n               }\n           }\n\n           upstream abc.zzf9.com {\n               server abc.zzf9.com:8888 weight=1;\n           }\n           server {\n               listen 80;\n               server_name zzf9.com;\n               rewrite ^(.*)$ https://$host$1 permanent;\n           }\n           server {\n               listen 443;\n               server_name zzf9.com;\n               ssl on;\n               ssl_certificate  cert/2879267_zzf9.com.pem;\n               ssl_certificate_key cert/2879267_zzf9.com.key;\n               ssl_session_timeout 5m;\n               ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:ECDHE:ECDH:AES:HIGH:!NULL:!aNULL:!MD5:!ADH:!RC4;\n               ssl_protocols TLSv1 TLSv1.1 TLSv1.2;\n               ssl_prefer_server_ciphers on;\n               location / {\n                   root   /usr/www;\n                   index  index.html index.htm;\n               }\n           }\n\n       }\n')])])])])}],n=e("2877"),p={},l=Object(n["a"])(p,a,r,!1,null,null,null);t["default"]=l.exports},d3b7:function(s,t,e){var a=e("00ee"),r=e("6eeb"),n=e("b041");a||r(Object.prototype,"toString",n,{unsafe:!0})},ddb0:function(s,t,e){var a=e("da84"),r=e("fdbc"),n=e("e260"),p=e("9112"),l=e("b622"),c=l("iterator"),v=l("toStringTag"),_=n.values;for(var i in r){var o=a[i],h=o&&o.prototype;if(h){if(h[c]!==_)try{p(h,c,_)}catch(d){h[c]=_}if(h[v]||p(h,v,i),r[i])for(var m in n)if(h[m]!==n[m])try{p(h,m,n[m])}catch(d){h[m]=n[m]}}}},ea76:function(s,t,e){"use strict";e.r(t);var a=function(){var s=this,t=s.$createElement;s._self._c;return s._m(0)},r=[function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("section",[e("h2",[s._v("nginx基本说明")]),e("br"),s._v(" 来源：小白 时间：2020年12月22日15:43:17 "),e("br"),e("hr"),e("blockquote",[e("p",[s._v("采用nginx+liunx")])]),e("blockquote",[e("p",[s._v("难度：简单")])]),e("br"),e("h3",[s._v("1.基本配置")]),e("br"),e("pre",{pre:!0},[e("code",{pre:!0,attrs:{"v-pre":"",class:"language-nginx"}},[e("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("#运行用户")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("user")]),s._v(" nginx;\n"),e("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("#启动进程,通常设置成和cpu的数量相等  auto为自适应")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("worker_processes")]),s._v(" auto;\n"),e("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("# 全局错误日志")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("error_log")]),s._v(" /var/log/nginx/error.log;\n\n"),e("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("# 包含以下文件")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("include")]),s._v(" /usr/share/nginx/modules/"),e("span",{pre:!0,attrs:{class:"hljs-regexp"}},[s._v("*.conf")]),s._v(";\n\n"),e("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("#工作模式及连接数上限")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"hljs-section"}},[s._v("events")]),s._v(" {\n    "),e("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("#单个后台worker process进程的最大并发链接数")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("worker_connections")]),s._v(" "),e("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1024")]),s._v(";\n}\n\n"),e("span",{pre:!0,attrs:{class:"hljs-section"}},[s._v("http")]),s._v(" {\n    "),e("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("#设定日志格式")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("log_format")]),s._v("  main  "),e("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'"),e("span",{pre:!0,attrs:{class:"hljs-variable"}},[s._v("$remote_addr")]),s._v(" - "),e("span",{pre:!0,attrs:{class:"hljs-variable"}},[s._v("$remote_user")]),s._v(" ["),e("span",{pre:!0,attrs:{class:"hljs-variable"}},[s._v("$time_local")]),s._v('] "'),e("span",{pre:!0,attrs:{class:"hljs-variable"}},[s._v("$request")]),s._v("\" '")]),s._v("\n                      "),e("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'"),e("span",{pre:!0,attrs:{class:"hljs-variable"}},[s._v("$status")]),s._v(" "),e("span",{pre:!0,attrs:{class:"hljs-variable"}},[s._v("$body_bytes_sent")]),s._v(' "'),e("span",{pre:!0,attrs:{class:"hljs-variable"}},[s._v("$http_referer")]),s._v("\" '")]),s._v("\n                      "),e("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'\""),e("span",{pre:!0,attrs:{class:"hljs-variable"}},[s._v("$http_user_agent")]),s._v('" "'),e("span",{pre:!0,attrs:{class:"hljs-variable"}},[s._v("$http_x_forwarded_for")]),s._v("\"'")]),s._v(";\n    "),e("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("#设定日志存储地址   ")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("access_log")]),s._v("  /var/log/nginx/access.log  main;\n\n    "),e("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("#sendfile 指令指定 nginx 是否调用 sendfile 函数（zero copy 方式）来输出文件，")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("#对于普通应用，必须设为 on,")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("#如果用来进行下载等应用磁盘IO重负载应用，可设置为 off，")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("#以平衡磁盘与网络I/O处理速度，降低系统的uptime.")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("sendfile")]),s._v("            "),e("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("on")]),s._v(";\n    "),e("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("tcp_nopush")]),s._v("          "),e("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("on")]),s._v(";\n    "),e("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("tcp_nodelay")]),s._v("         "),e("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("on")]),s._v(";\n    "),e("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("#连接超时时间")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("keepalive_timeout")]),s._v("   "),e("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("65")]),s._v(";\n    "),e("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("# types_hash_max_size影响散列表的冲突率。types_hash_max_size越大，")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("# 就会消耗更多的内存，但散列key的冲突率会降低，检索速度就更快。")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("# types_hash_max_size越小，消耗的内存就越小，但散列key的冲突率可能上升。")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("types_hash_max_size")]),s._v(" "),e("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2048")]),s._v(";\n    "),e("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("# 包含以下文件")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("include")]),s._v("             /etc/nginx/mime.types;\n    "),e("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("# 指定mime.types文件中没有记述到的后缀名的处理方法")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("default_type")]),s._v("        application/octet-stream;\n\n    "),e("span",{pre:!0,attrs:{class:"hljs-section"}},[s._v("server")]),s._v(" {\n        "),e("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("# 指定端口号。")]),s._v("\n        "),e("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("listen")]),s._v("       "),e("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("80")]),s._v(";\n        "),e("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("server_name")]),s._v("  plug.zzf9.com;\n        "),e("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("location")]),s._v(" / {\n            "),e("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("root")]),s._v("   /home/plug;\n            "),e("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("index")]),s._v("  index.html index.htm;\n        }\n    }\n}\n\n\n")])]),e("br"),e("h3",[s._v("2.server模块")]),e("p",[s._v("注意：案例服务器ip为：49.68.52.34（模拟IP）")]),e("br"),e("h4",[s._v("2.1本地html转发指定页面/ip")]),e("p",[s._v("我本地代码在服务器文件夹"),e("code",{pre:!0},[s._v("/home/form")]),s._v("中，我需要让他通过域名/ip访问")]),e("pre",{pre:!0},[e("code",{pre:!0,attrs:{"v-pre":"",class:"language-nginx"}},[e("span",{pre:!0,attrs:{class:"hljs-section"}},[s._v("server")]),s._v(" {\n    "),e("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("listen")]),s._v("       "),e("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("80")]),s._v(";\n    "),e("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("server_name")]),s._v("  plug.zzf9.com;\n    "),e("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("location")]),s._v(" / {\n        "),e("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("root")]),s._v("   /home/form;\n        "),e("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("index")]),s._v("  index.html index.htm;\n    }\n}\n")])]),e("p",[s._v("如果代码解释为：监听80端口转发到plug.zzf9.com上面，采用 "),e("code",{pre:!0},[s._v("location.root")]),s._v("中的index.html的代码")]),e("br"),e("h4",[s._v("2.2监听本地端口转发域名")]),e("p",[s._v("我需要监听本地端口"),e("code",{pre:!0},[s._v("8080")]),s._v("并且转发到域名"),e("code",{pre:!0},[s._v("plug.zzf9.com")]),s._v("上面则nginx中添加代码 此处为监听 "),e("code",{pre:!0},[s._v("plug.zzf9.com")]),s._v("的80端口 然后转发到本地8080端口中 在使用upstream转发 端口的8080")]),e("pre",{pre:!0},[e("code",{pre:!0,attrs:{"v-pre":"",class:"language-nginx"}},[s._v("    "),e("span",{pre:!0,attrs:{class:"hljs-section"}},[s._v("server")]),s._v(" {\n        "),e("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("listen")]),s._v(" "),e("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("80")]),s._v(";\n        "),e("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("server_name")]),s._v(" plug.zzf9.com;\n        "),e("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("location")]),s._v(" / {\n            "),e("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("proxy_pass")]),s._v(" http://127.0.0.1:8080;\n        }\n    }\n    "),e("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("upstream")]),s._v(" plug.zzf9.com {\n        "),e("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("server")]),s._v(" plug.zzf9.com:"),e("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("8080")]),s._v(" weight="),e("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(";\n    }\n")])]),e("p",[s._v("如果代码解释为：监听8080端口转发到plug.zzf9.com上面 这个时候你请求 "),e("code",{pre:!0},[s._v("plug.zzf9.com")]),s._v(" 就为你请求了"),e("code",{pre:!0},[s._v("49.68.52.34:8080（模拟IP:8080）")]),e("br")]),e("h3",[s._v("3.location模块")]),e("p",[s._v("注意")]),e("br"),e("pre",{pre:!0},[e("code",{pre:!0,attrs:{"v-pre":"",class:"language-html"}},[s._v("语法规则： location [=|~|~*|^~] /uri/ { … }\n\n= 开头表示精确匹配\n\n^~ 开头表示uri以某个常规字符串开头，理解为匹配 url路径即可。nginx不对url做编码，因此请求为/static/20%/aa，可以被规则^~ /static/ /aa匹配到（注意是空格）。以xx开头\n\n~ 开头表示区分大小写的正则匹配                     以xx结尾\n\n~* 开头表示不区分大小写的正则匹配                以xx结尾\n\n!~和!~*分别为区分大小写不匹配及不区分大小写不匹配 的正则\n\n/ 通用匹配，任何请求都会匹配到。\n\n")])]),e("p",[s._v("例子，有如下匹配规则：")]),e("pre",{pre:!0},[e("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[s._v("location = "),e("span",{pre:!0,attrs:{class:"hljs-regexp"}},[s._v("/ {\n   #规则A\n}\nlocation = /")]),s._v("login {\n   #规则B\n}\nlocation ^~ "),e("span",{pre:!0,attrs:{class:"hljs-regexp"}},[s._v("/static/")]),s._v(" {\n   #规则C\n}\nlocation ~ \\.(gif|jpg|png|js|css)$ {\n   #规则D，注意：是根据括号内的大小写进行匹配。括号内全是小写，只匹配小写\n}\nlocation ~* \\.png$ {\n   #规则E\n}\nlocation !~ \\.xhtml$ {\n   #规则F\n}\nlocation !~* \\.xhtml$ {\n   #规则G\n}\nlocation / {\n   #规则H\n}\n")])]),e("p",[s._v("那么产生的效果如下：")]),e("p",[s._v("访问根目录/， 比如http://localhost/ 将匹配规则A")]),e("p",[s._v("访问 http://localhost/login 将匹配规则B，http://localhost/register 则匹配规则H")]),e("p",[s._v("访问 http://localhost/static/a.html 将匹配规则C")]),e("p",[s._v("访问 http://localhost/a.gif, http://localhost/b.jpg 将匹配规则D和规则E，但是规则D顺序优先，规则E不起作用， 而 http://localhost/static/c.png 则优先匹配到 规则C")]),e("p",[s._v("访问 http://localhost/a.PNG 则匹配规则E， 而不会匹配规则D，因为规则E不区分大小写。")]),e("p",[s._v("访问 http://localhost/a.xhtml 不会匹配规则F和规则G，")]),e("p",[s._v("http://localhost/a.XHTML不会匹配规则G，（因为!）。规则F，规则G属于排除法，符合匹配规则也不会匹配到，所以想想看实际应用中哪里会用到。")]),e("br"),e("h4",[s._v("3.1默认显示indexdb.html")]),e("p",[s._v("由于代码原因，我本地不存在index.html 本地就一个indexdb.html需要显示 我也不想改文件名 本地代码目录为"),e("code",{pre:!0},[s._v("/usr/www")])]),e("pre",{pre:!0},[e("code",{pre:!0,attrs:{"v-pre":"",class:"language-nginx"}},[e("span",{pre:!0,attrs:{class:"hljs-section"}},[s._v("server")]),s._v(" {\n    "),e("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("listen")]),s._v("       "),e("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("80")]),s._v(";\n    "),e("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("server_name")]),s._v("  dave.zzf9.com;\n    "),e("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("location")]),s._v(" / {\n         "),e("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("root")]),s._v("   /usr/www;\n         "),e("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("index")]),s._v("  indexdb.html indexdb.htm;\n    }\n}\n")])]),e("p",[s._v("location.index 为默认显示地址 改为indexdb.html即可 "),e("br")]),e("h4",[s._v("3.2我需要配置一个静态的图片目录 并且支持访问")]),e("p",[s._v("我前端上传的图片需要默认保存在一个地址上面 所以这里需要配置")]),e("pre",{pre:!0},[e("code",{pre:!0,attrs:{"v-pre":"",class:"language-nginx"}},[e("span",{pre:!0,attrs:{class:"hljs-section"}},[s._v("server")]),s._v(" {\n    "),e("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("listen")]),s._v("       "),e("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("80")]),s._v(";\n    "),e("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("server_name")]),s._v("  www.zzf9.com;\n    "),e("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("location")]),s._v(" / {\n        "),e("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("root")]),s._v("   /usr/www;\n        "),e("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("index")]),s._v("  index.html index.htm;\n    }\n    "),e("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("location")]),s._v(" /img {\n        "),e("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("# 注意alias会把location后面配置的路径丢弃掉 alias后面配置根目录")]),s._v("\n        "),e("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("alias")]),s._v("  /usr/www;\n        "),e("span",{pre:!0,attrs:{class:"hljs-attribute"}},[s._v("index")]),s._v("  index.html index.htm;\n    }\n}\n")])]),e("p",[s._v("location.index 为默认显示地址 改为indexdb.html即可 "),e("br")])])}],n=e("2877"),p={},l=Object(n["a"])(p,a,r,!1,null,null,null);t["default"]=l.exports},ee83:function(s,t,e){var a={"./MD文件转换html的方法 （loader的应用）.md":"f5e0","./PC微信扫码登录教程.md":"a993","./nginx基本说明.md":"ea76","./node之https配置.md":"c259","./unxt服务端渲染-seo.md":"64a9","./从应用架构角度理解Docker.md":"063f","./自动化工具-jenkins.md":"9d00"};function r(s){var t=n(s);return e(t)}function n(s){if(!e.o(a,s)){var t=new Error("Cannot find module '"+s+"'");throw t.code="MODULE_NOT_FOUND",t}return a[s]}r.keys=function(){return Object.keys(a)},r.resolve=n,s.exports=r,r.id="ee83"},f5e0:function(s,t,e){"use strict";e.r(t);var a=function(){var s=this,t=s.$createElement;s._self._c;return s._m(0)},r=[function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("section",[e("br"),e("h2",[s._v("MD文件转换html的方法 （loader的应用）")]),e("br"),s._v(" 来源：小白 时间：2020年12月22日11:52:32 "),e("br"),e("hr"),e("blockquote",[e("p",[s._v("采用vue-markdown-loader")])]),e("blockquote",[e("p",[s._v("提供脚手架CLI/2.+，以及CLI/3.+的方式")])]),e("blockquote",[e("p",[s._v("难度：简单")])]),e("br"),e("h3",[s._v("1.安装插件vue-markdown-loader")]),e("br"),e("pre",{pre:!0},[e("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[s._v("npm install vue-markdown-loader -D\n")])]),e("p",[s._v("安装npm包vue-markdown-loader -D （-D就是–save-dev） 会存在"),e("code",{pre:!0},[s._v("package.json")]),s._v("的"),e("code",{pre:!0},[s._v("devDependencies")]),s._v("这个里面 "),e("br"),e("br")]),e("h3",[s._v("2.修改配置webpack")]),e("p",[s._v("(vue/cli3)脚手架的vue.config.js 如果未存在可以新建")]),e("pre",{pre:!0},[e("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[s._v("\n"),e("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("module")]),s._v(".exports = {\n    "),e("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("chainWebpack")]),s._v(":"),e("span",{pre:!0,attrs:{class:"hljs-function"}},[e("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("config")]),s._v(" =>")]),s._v("{\n        config.module.rule("),e("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'md'")]),s._v(")\n            .test("),e("span",{pre:!0,attrs:{class:"hljs-regexp"}},[s._v("/\\.md/")]),s._v(")\n            .use("),e("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'vue-loader'")]),s._v(")\n            .loader("),e("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"vue-loader"')]),s._v(")\n            .end()\n            .use("),e("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'vue-markdown-loader'")]),s._v(")\n            .loader("),e("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'vue-markdown-loader/lib/markdown-compiler'")]),s._v(")\n            .options({ "),e("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("raw")]),s._v(": "),e("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("true")]),s._v(" })\n    }\n}\n\n")])]),e("p",[s._v("(vue/cli2)脚手架的 build/webpack.base.conf.js")]),e("pre",{pre:!0},[e("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[e("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("module")]),s._v(".exports = {\n    "),e("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("module")]),s._v(":{\n        "),e("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("rules")]),s._v(":[\n            {\n                "),e("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("test")]),s._v(": "),e("span",{pre:!0,attrs:{class:"hljs-regexp"}},[s._v("/\\.md$/")]),s._v(",\n                "),e("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("loader")]),s._v(": "),e("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'vue-markdown-loader'")]),s._v(",\n            }\n        ]\n    }\n}\n")])]),e("br"),e("h3",[s._v("3.使用MD")]),e("br"),e("pre",{pre:!0},[e("code",{pre:!0,attrs:{"v-pre":"",class:"language-html"}},[e("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),e("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("template")]),s._v(">")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),e("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("MD")]),s._v(">")]),e("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),e("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("MD")]),s._v(">")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),e("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("template")]),s._v(">")]),s._v("\n")])]),e("pre",{pre:!0},[e("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" MD "),e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),e("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'./md'")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v("{\n    "),e("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("components")]),s._v(":{\n        MD\n    }\n}\n")])]),e("br"),e("h3",[s._v("4.问题")]),e("br"),e("h4",[s._v("4.1代码不会高亮")]),e("p",[s._v("采用插件工具例如："),e("code",{pre:!0},[s._v("highlight")])]),e("p",[s._v("index.html的 cdn引入")]),e("pre",{pre:!0},[e("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[s._v("<link rel="),e("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"stylesheet"')]),s._v(" href="),e("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"http://cdn.bootcss.com/highlight.js/8.0/styles/monokai_sublime.min.css"')]),s._v(">\n"),e("span",{pre:!0,attrs:{class:"xml"}},[e("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),e("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(" "),e("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("src")]),s._v("="),e("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"http://cdn.bootcss.com/highlight.js/8.0/highlight.min.js"')]),s._v(">")]),e("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),e("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")])]),s._v("\n")])]),e("p",[s._v("觉得丑可以把css下载到本地 然后修改本地样式即可")]),e("br"),e("p",[s._v("采用highlight的loader 请自行百度")])])}],n=e("2877"),p={},l=Object(n["a"])(p,a,r,!1,null,null,null);t["default"]=l.exports},fdbc:function(s,t){s.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);